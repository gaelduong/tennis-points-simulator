(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,r){},25:function(e,t,r){},70:function(e,t,r){"use strict";r.r(t);var c=r(1),s=r.n(c),n=r(15),i=r.n(n),l=(r(24),r(3)),a=(r(25),r(0)),j=function(){return Object(a.jsxs)("g",{id:"court",children:[Object(a.jsx)("rect",{x:"100",y:"75",width:"300",height:"500",style:{fill:"#559adc"}}),Object(a.jsxs)("g",{id:"court-borders",children:[Object(a.jsx)("path",{d:"M 100 75 V 575 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 400 75 V 575 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 97.5 75 H 402.5 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 97.5 575 H 402.5 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})]}),Object(a.jsxs)("g",{id:"court-double-alley-lines",children:[Object(a.jsx)("path",{d:"M 130 75 V 575 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 370 75 V 575 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})]}),Object(a.jsxs)("g",{id:"court-center-mark",children:[Object(a.jsx)("path",{d:"M 250 75 V 85 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 250 575 V 565 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})]}),Object(a.jsx)("g",{id:"court-net",children:Object(a.jsx)("path",{d:"M 100 325 H 400 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})}),Object(a.jsxs)("g",{id:"court-service-lines",children:[Object(a.jsx)("path",{d:"M 130 200 H 370 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 130 450 H 370 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})]}),Object(a.jsxs)("g",{id:"court-center-service-lines",children:[Object(a.jsx)("path",{d:"M 250 325 V 200 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 250 325 V 450 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})]})]})},o=r(6),h=r.n(o),b=r(16),d=r(17),x=r.n(d),p=["neutral","topspin","slice"],O=["farLeft","left","somewhatLeft","middle","somewhatRight","right","farRight"],f=["deep","somewhatDeep","normal","somewhatShort","short","veryShort"],u=function(e){var t=[];try{var r=e.split("\n");if(!(r=r.filter((function(e){return e.length>0}))).length)throw new Error("Wrong input");r.forEach((function(e){(e=e.split(",")).forEach((function(t,r){e[r]=t.replace(/\s/g,"")}));var r=e,c=Object(l.a)(r,3),s=c[0],n=c[1],i=c[2];if(!p.includes(s)||!O.includes(n)||!f.includes(i))throw new Error("Wrong input");t.push({shotType:s,direction:n,depth:i})}))}catch(c){return null}return t},y=r(18),g=function(e){var t=e.setLoading,r=e.setFramesData,s=e.resetFrame,n=Object(c.useState)(""),i=Object(l.a)(n,2),j=i[0],o=i[1],d=Object(c.useState)(!1),p=Object(l.a)(d,2),O=p[0],f=p[1],g=Object(c.useState)(""),k=Object(l.a)(g,2),m=k[0],v=k[1],S="slice, farRight, deep\ntopspin, left, normal\nslice, farRight, deep\nslice, farLeft, veryShort\nneutral, farRight, veryShort\nslice, farRight, deep",w=function(){var e=Object(b.a)(h.a.mark((function e(c){var s,n,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),s=u(j)){e.next=4;break}return e.abrupt("return",v("Wrong input! Check again."));case 4:return t(!0),e.prev=5,e.next=8,x.a.post("/simulate",{shots:s});case 8:n=e.sent,i=n.data,t(!1),r(i),v(""),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(5),e.abrupt("return",console.log(e.t0));case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{onSubmit:w,children:[Object(a.jsx)("h2",{children:"Tennis Rally Simulator"}),Object(a.jsx)("label",{children:"\ud83c\udf0d Input multiple lines where each line represents a single shot hit by either player 1 or player 2."}),Object(a.jsx)("label",{children:"\ud83c\udf0d Each shot is described by 3 propreties: shot type, direction and depth."}),Object(a.jsxs)("label",{children:["\u2b50\ufe0f",Object(a.jsx)("b",{children:Object(a.jsx)("i",{children:"For now player on the bottom (player 1) always starts hitting first."})})]}),Object(a.jsxs)("label",{children:["\u2b50\ufe0f",Object(a.jsx)("b",{children:Object(a.jsx)("i",{children:"For now last shot is assumed to be a winner shot."})})]}),Object(a.jsxs)("pre",{id:"input-instructions",children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("b",{children:"Shot type: "})," slice | topspin | neutral"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("b",{children:"Direction:"})," farLeft | left | somewhatLeft | middle | somewhatRight | right | farRight"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("b",{children:"Depth:"})," deep | somewhatDeep | normal | somewhatShort | short | veryShort"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:[Object(a.jsx)("b",{children:"Input order (for each line):"})," [shot type], [direction], [depth]"]})]}),Object(a.jsxs)("label",{children:["\ud83d\udc49 Input rally here:"," ",Object(a.jsx)("span",{style:{fontSize:"12px"},children:"(line 1=shot hit by player 1, line 2=shot hit by player 2, line 3=shot hit by player 1,...)"})]}),Object(a.jsx)("textarea",{spellCheck:"false",value:j,onChange:function(e){return o(e.target.value)}}),m&&Object(a.jsxs)("div",{id:"submit-message",children:[" ",m," "]}),Object(a.jsx)("button",{className:"action-btn",id:"simulate-btn",onClick:w,children:"Simulate rally!"}),Object(a.jsx)("button",{className:"action-btn",id:"reset-btn",type:"button",onClick:function(){s(),o("")},children:"Reset"}),Object(a.jsx)("label",{children:"Example of a rally:"}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"code-snippet",children:Object(a.jsxs)("div",{className:"code-section",children:[Object(a.jsx)("pre",{children:S}),Object(a.jsx)(y.CopyToClipboard,{text:S,onCopy:function(){f(!0),setTimeout((function(){f(!1)}),1e3)},children:Object(a.jsx)("span",{children:O?"Copied!":Object(a.jsx)("pre",{id:"copy-btn",children:" Copy"})})})]})})})]})})},k=(r(49),r(19)),m=r.n(k);var v=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),r=t[0],s=t[1],n=Object(c.useState)(-1),i=Object(l.a)(n,2),o=i[0],h=i[1],b=Object(c.useState)(""),d=Object(l.a)(b,2),x=d[0],p=d[1],O=Object(c.useState)([300,590]),f=Object(l.a)(O,2),u=f[0],y=f[1],k=Object(c.useState)([170,50]),v=Object(l.a)(k,2),S=v[0],w=v[1],W=Object(c.useState)([]),P=Object(l.a)(W,2),C=P[0],M=P[1],E=Object(c.useState)([]),D=Object(l.a)(E,2),F=D[0],R=D[1],L=Object(c.useState)([]),N=Object(l.a)(L,2),T=N[0],V=N[1],H=Object(c.useState)(-1),I=Object(l.a)(H,2),B=I[0],J=I[1];Object(c.useEffect)((function(){if(T.length){var e=T[0];e&&(h(e.hittingPlayer),p(e.shotTypeData),y(e.player1Pos),w(e.player2Pos),M(e.landSpotPos),R(e.receivingContactPos)),J(0)}}),[T]);var z=function(e,t){T.length&&(B<=0&&-1===t||J((function(e){e=e+t>=T.length?0:e+t;var r=T[e];return r&&(h(r.hittingPlayer),p(r.shotTypeData),y(r.player1Pos),w(r.player2Pos),M(r.landSpotPos),R(r.receivingContactPos)),e})))},A={width:"500px",height:"650px",background:"#a8d76c"},G={fill:"black"},q={stroke:o?"red":"blue",strokeWidth:2},K=0===o?u:S;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(g,{setLoading:s,setFramesData:V,resetFrame:function(){V([]),J(-1),h(-1),y([300,590]),w([170,50]),M([]),R([]),s(!1)}}),r||-1===B&&Object(a.jsxs)("svg",{style:A,children:[Object(a.jsx)(j,{}),Object(a.jsx)("circle",{cx:u[0],cy:u[1],r:10,style:G}),Object(a.jsx)("circle",{cx:S[0],cy:S[1],r:10,style:G}),Object(a.jsx)("text",{x:280,y:620,children:"Player 1"}),Object(a.jsx)("text",{x:140,y:30,children:"Player 2"}),Object(a.jsx)("text",{x:10,y:330,children:"LEFT"}),Object(a.jsx)("text",{x:440,y:330,children:"RIGHT"}),Object(a.jsx)("text",{x:230,y:560,children:"DEEP"}),Object(a.jsx)("text",{x:230,y:100,children:"DEEP"})]}),r&&Object(a.jsx)("div",{id:"loader-container",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(m.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100}),Object(a.jsx)("div",{children:" Loading simulation..."})]})}),!r&&-1!==B&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("svg",{style:A,children:[Object(a.jsx)(j,{}),Object(a.jsx)("circle",{cx:u[0],cy:u[1],r:10,style:G}),Object(a.jsx)("circle",{cx:S[0],cy:S[1],r:10,style:G}),C&&Object(a.jsxs)("g",{children:[Object(a.jsx)("line",{x1:K[0],y1:K[1],x2:C[0],y2:C[1],style:q}),Object(a.jsx)("line",{x1:C[0],y1:C[1],x2:F[0],y2:F[1],style:q}),Object(a.jsx)("circle",{cx:C[0],cy:C[1],r:4,style:{fill:"black",opacity:"40%"}}),Object(a.jsx)("circle",{cx:F[0],cy:F[1],r:7,style:{fill:"#f5fc8d",stroke:"black",strokeWidth:2}}),x.textPos&&Object(a.jsx)("text",{x:x.textPos[0],y:x.textPos[1],children:x.type})]})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"action-btn control-btn",onClick:function(e){return z(0,-1)},children:"Back"}),Object(a.jsx)("button",{className:"action-btn control-btn",onClick:function(e){return z(0,1)},children:"Next"})]}),Object(a.jsxs)("div",{children:[B+1," / ",T.length]})]})]})]})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root"))}},[[70,1,2]]]);