(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,r){},23:function(e,t,r){},47:function(e,t,r){"use strict";r.r(t);var s=r(1),c=r.n(s),n=r(14),i=r.n(n),l=(r(22),r(2)),a=(r(23),r(0)),j=function(){return Object(a.jsxs)("g",{id:"court",children:[Object(a.jsx)("rect",{x:"100",y:"75",width:"300",height:"500",style:{fill:"#559adc"}}),Object(a.jsxs)("g",{id:"court-borders",children:[Object(a.jsx)("path",{d:"M 100 75 V 575 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 400 75 V 575 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 97.5 75 H 402.5 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 97.5 575 H 402.5 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})]}),Object(a.jsxs)("g",{id:"court-double-alley-lines",children:[Object(a.jsx)("path",{d:"M 130 75 V 575 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 370 75 V 575 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})]}),Object(a.jsxs)("g",{id:"court-center-mark",children:[Object(a.jsx)("path",{d:"M 250 75 V 85 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 250 575 V 565 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})]}),Object(a.jsx)("g",{id:"court-net",children:Object(a.jsx)("path",{d:"M 100 325 H 400 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})}),Object(a.jsxs)("g",{id:"court-service-lines",children:[Object(a.jsx)("path",{d:"M 130 200 H 370 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 130 450 H 370 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})]}),Object(a.jsxs)("g",{id:"court-center-service-lines",children:[Object(a.jsx)("path",{d:"M 250 325 V 200 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"}),Object(a.jsx)("path",{d:"M 250 325 V 450 ",stroke:"#fff",strokeWidth:"5",fill:"transparent"})]})]})},o=r(5),h=r.n(o),b=r(15),d=r(16),x=r.n(d),f=["neutral","topspin","slice"],p=["farLeft","left","somewhatLeft","middle","somewhatRight","right","farRight"],O=["deep","somewhatDeep","normal","somewhatShort","short","veryShort"],u=function(e){var t=[];try{var r=e.split("\n");if(!(r=r.filter((function(e){return e.length>0}))).length)throw new Error("Wrong input");r.forEach((function(e){(e=e.split(",")).forEach((function(t,r){e[r]=t.replace(/\s/g,"")}));var r=e,s=Object(l.a)(r,3),c=s[0],n=s[1],i=s[2];if(!f.includes(c)||!p.includes(n)||!O.includes(i))throw new Error("Wrong input");t.push({shotType:c,direction:n,depth:i})}))}catch(s){return null}return t},y=r(17),k=function(e){var t=e.setFramesData,r=e.resetFrame,c=Object(s.useState)(""),n=Object(l.a)(c,2),i=n[0],j=n[1],o=Object(s.useState)(!1),d=Object(l.a)(o,2),f=d[0],p=d[1],O=Object(s.useState)(""),k=Object(l.a)(O,2),g=k[0],m=k[1],v="  slice, farRight, deep\n  topspin, left, normal\n  slice, farRight, deep\n  slice, farLeft, veryShort\n  neutral, farRight, veryShort\n  slice, farRight, deep",S=function(){var e=Object(b.a)(h.a.mark((function e(r){var s,c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),s=u(i)){e.next=4;break}return e.abrupt("return",m("Wrong input! Check again."));case 4:return e.prev=4,e.next=7,x.a.post("/simulate",{shots:s});case 7:c=e.sent,n=c.data,t(n),m(""),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return",console.log(e.t0));case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{onSubmit:S,children:[Object(a.jsx)("h2",{children:"Tennis Rally Simulator"}),Object(a.jsx)("label",{children:"\ud83c\udf0d Input multiple lines where each line represents a single shot hit by either player 1 or player 2."}),Object(a.jsx)("label",{children:"\ud83c\udf0d Each shot is described by 3 propreties: shot type, direction and depth."}),Object(a.jsxs)("label",{children:["\u2b50\ufe0f",Object(a.jsx)("b",{children:Object(a.jsx)("i",{children:"For now player on the bottom (player 1) always starts hitting first."})})]}),Object(a.jsxs)("label",{children:["\u2b50\ufe0f",Object(a.jsx)("b",{children:Object(a.jsx)("i",{children:"For now last shot is assumed to be a winner shot."})})]}),Object(a.jsxs)("pre",{id:"input-instructions",children:[Object(a.jsxs)("label",{children:[Object(a.jsx)("b",{children:"Shot type: "})," slice | topspin | neutral"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("b",{children:"Direction:"})," farLeft | left | somewhatLeft | middle | somewhatRight | right | farRight"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("b",{children:"Depth:"})," deep | somewhatDeep | normal | somewhatShort | short | veryShort"]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{children:[Object(a.jsx)("b",{children:"Input order (for each line):"})," [shot type], [direction], [depth]"]})]}),Object(a.jsxs)("label",{children:["\ud83d\udc49 Input rally here:"," ",Object(a.jsx)("span",{style:{fontSize:"12px"},children:"(line 1=shot hit by player 1, line 2=shot hit by player 2, line 3=shot hit by player 1,...)"})]}),Object(a.jsx)("textarea",{spellCheck:"false",value:i,onChange:function(e){return j(e.target.value)}}),g&&Object(a.jsxs)("div",{id:"submit-message",children:[" ",g," "]}),Object(a.jsx)("button",{className:"action-btn",id:"simulate-btn",onClick:S,children:"Simulate rally!"}),Object(a.jsx)("button",{className:"action-btn",id:"reset-btn",type:"button",onClick:function(){r(),j("")},children:"Reset"}),Object(a.jsx)("label",{children:"Example of a rally:"}),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"code-snippet",children:Object(a.jsxs)("div",{className:"code-section",children:[Object(a.jsx)("pre",{children:v}),Object(a.jsx)(y.CopyToClipboard,{text:v,onCopy:function(){p(!0),setTimeout((function(){p(!1)}),1e3)},children:Object(a.jsx)("span",{children:f?"Copied!":Object(a.jsx)("pre",{id:"copy-btn",children:" Copy"})})})]})})})]})})};var g=function(){var e=Object(s.useState)(-1),t=Object(l.a)(e,2),r=t[0],c=t[1],n=Object(s.useState)(""),i=Object(l.a)(n,2),o=i[0],h=i[1],b=Object(s.useState)([300,590]),d=Object(l.a)(b,2),x=d[0],f=d[1],p=Object(s.useState)([170,50]),O=Object(l.a)(p,2),u=O[0],y=O[1],g=Object(s.useState)([]),m=Object(l.a)(g,2),v=m[0],S=m[1],w=Object(s.useState)([]),W=Object(l.a)(w,2),P=W[0],C=W[1],M=Object(s.useState)([]),E=Object(l.a)(M,2),D=E[0],R=E[1],N=Object(s.useState)(-1),F=Object(l.a)(N,2),T=F[0],V=F[1];Object(s.useEffect)((function(){if(D.length){var e=D[0];e&&(c(e.hittingPlayer),h(e.shotTypeData),f(e.player1Pos),y(e.player2Pos),S(e.landSpotPos),C(e.receivingContactPos)),V(0)}}),[D]);var H=function(e,t){D.length&&(T<=0&&-1===t||V((function(e){e=e+t>=D.length?0:e+t;var r=D[e];return r&&(c(r.hittingPlayer),h(r.shotTypeData),f(r.player1Pos),y(r.player2Pos),S(r.landSpotPos),C(r.receivingContactPos)),e})))},L={width:"500px",height:"650px",background:"#a8d76c"},I={fill:"black"},B={stroke:r?"red":"blue",strokeWidth:2},J=0===r?x:u;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(k,{setFramesData:R,resetFrame:function(){R([]),V(-1),c(-1),f([300,590]),y([170,50]),S([]),C([])}}),-1===T&&Object(a.jsxs)("svg",{style:L,children:[Object(a.jsx)(j,{}),Object(a.jsx)("circle",{cx:x[0],cy:x[1],r:10,style:I}),Object(a.jsx)("circle",{cx:u[0],cy:u[1],r:10,style:I}),Object(a.jsx)("text",{x:280,y:620,children:"Player 1"}),Object(a.jsx)("text",{x:140,y:30,children:"Player 2"}),Object(a.jsx)("text",{x:10,y:330,children:"LEFT"}),Object(a.jsx)("text",{x:440,y:330,children:"RIGHT"}),Object(a.jsx)("text",{x:230,y:560,children:"DEEP"}),Object(a.jsx)("text",{x:230,y:100,children:"DEEP"})]}),-1!==T&&Object(a.jsxs)("div",{children:[Object(a.jsxs)("svg",{style:L,children:[Object(a.jsx)(j,{}),Object(a.jsx)("circle",{cx:x[0],cy:x[1],r:10,style:I}),Object(a.jsx)("circle",{cx:u[0],cy:u[1],r:10,style:I}),v&&Object(a.jsxs)("g",{children:[Object(a.jsx)("line",{x1:J[0],y1:J[1],x2:v[0],y2:v[1],style:B}),Object(a.jsx)("line",{x1:v[0],y1:v[1],x2:P[0],y2:P[1],style:B}),Object(a.jsx)("circle",{cx:v[0],cy:v[1],r:4,style:{fill:"black",opacity:"40%"}}),Object(a.jsx)("circle",{cx:P[0],cy:P[1],r:7,style:{fill:"#f5fc8d",stroke:"black",strokeWidth:2}}),o.textPos&&Object(a.jsx)("text",{x:o.textPos[0],y:o.textPos[1],children:o.type})]})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"action-btn control-btn",onClick:function(e){return H(0,-1)},children:"Back"}),Object(a.jsx)("button",{className:"action-btn control-btn",onClick:function(e){return H(0,1)},children:"Next"})]}),Object(a.jsxs)("div",{children:[T+1," / ",D.length]})]})]})]})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(g,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.fc9b4d5b.chunk.js.map